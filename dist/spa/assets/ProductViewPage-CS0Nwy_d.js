import{Q as N}from"./QSpinnerGears-Dh7pmCcq.js";import{aj as S,r as d,q as B,f as m,o as s,w as i,i as n,g as l,p as o,ae as c,Q as v,h as f,ag as w,ak as D,t as u,F as Q,k as C,l as R,al as F}from"./index-CEvKOOos.js";import{Q as U}from"./QTooltip-Bxy5RpnE.js";import{Q as k}from"./QImg-C2tOMvLs.js";import{Q as q}from"./QChip-Yh1JQf5n.js";import{Q as z}from"./QPage-DgI7XAAt.js";import{u as G}from"./productStore-kIAXihmZ.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./selection-DvxNEaLR.js";const T={key:0,class:"flex flex-center"},j={key:1,class:"product-view-container"},H={class:"row"},A={class:"text-h4 q-mb-sm col"},E={class:"text-subtitle1 text-grey-7"},L={key:0,class:"q-mt-md desc-product"},M={key:1,class:"row"},W={class:"col text-h6"},J={key:0,class:"col"},K={class:"text-subtitle2 col"},X={class:"text-h5 text-bold q-my-md text-primary"},Y={class:"row items-center justify-between"},Z={class:"text-subtitle1"},ee={class:"text-bold"},te={class:"row q-gutter-md"},oe={key:0,class:"q-mt-xl"},se={class:"row q-gutter-md"},ae={key:2,class:"text-center"},le={__name:"ProductViewPage",setup(re){const P=S(),_=G(),t=d(null),y=d([]),g=d(!0),p=d(!1),b=d("");B(async()=>{const r=P.params.id;g.value=!0,await _.fetchProductById(r),t.value=_.selectedProduct,t.value&&(y.value=await _.fetchGallery(r)),g.value=!1});function x(r){b.value=r,p.value=!0}function V(){const r="573137894436",e=t.value.name,a=t.value.reference,h=`Hola, estoy interesado en el producto: *${e}* (Ref: *${a}*). ¿Podrías darme más información?`,I=`https://wa.me/${r}?text=${encodeURIComponent(h)}`;window.open(I,"_blank")}const $=r=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(r);return(r,e)=>(s(),m(z,{class:"q-pa-md"},{default:i(()=>[g.value?(s(),n("div",T,[l(N,{size:"50px",color:"primary"})])):t.value?(s(),n("div",j,[l(v,{flat:"",icon:"arrow_back",label:"Volver al catálogo",onClick:e[0]||(e[0]=a=>r.$router.go(-1)),class:"q-mb-md"}),o("div",{class:"cursor-pointer",onClick:e[1]||(e[1]=a=>x(t.value.avatar_url))},[l(k,{src:t.value.avatar_url,class:"product-avatar-large rounded-borders"},{default:i(()=>[l(U,null,{default:i(()=>[...e[4]||(e[4]=[f("Haz clic para ver la imagen completa",-1)])]),_:1})]),_:1},8,["src"])]),l(w,{flat:"",bordered:"",class:"q-mt-lg"},{default:i(()=>[l(D,null,{default:i(()=>[o("div",H,[o("div",A,u(t.value.name),1),o("div",E,"Ref: "+u(t.value.reference),1),t.value.category?(s(),m(q,{key:0,label:t.value.category.name,color:"primary","text-color":"white"},null,8,["label"])):c("",!0)]),t.value.description?(s(),n("div",L,[o("p",null,u(t.value.description),1)])):c("",!0),t.value.subcategory?(s(),n("div",M,[o("div",W,u(t.value.subcategory),1),t.value.sizes?(s(),n("div",J,[o("div",K,[e[5]||(e[5]=f("Tallas disponibles: ",-1)),(s(!0),n(Q,null,C(t.value.sizes.split(","),a=>(s(),m(q,{key:a,label:a.trim(),outline:"",color:"secondary"},null,8,["label"]))),128))])])):c("",!0)])):c("",!0),o("div",X,u($(t.value.price)),1),l(R,{class:"q-my-lg"}),o("div",Y,[o("div",Z,[e[6]||(e[6]=f(" Stock: ",-1)),o("span",ee,u(t.value.stock),1),e[7]||(e[7]=f(" unidades ",-1))]),o("div",te,[l(v,{round:"",color:"pink",icon:"favorite_border"}),l(v,{unelevated:"",color:"positive",icon:"shopping_cart",label:"Quiero este Producto",onClick:V})])])]),_:1})]),_:1}),y.value.length>0?(s(),n("div",oe,[e[8]||(e[8]=o("div",{class:"text-h6 q-mb-md"},"Galería del Producto",-1)),o("div",se,[(s(!0),n(Q,null,C(y.value,a=>(s(),m(k,{key:a.id,src:a.image_url,class:"gallery-thumbnail cursor-pointer rounded-borders",onClick:h=>x(a.image_url)},null,8,["src","onClick"]))),128))])])):c("",!0)])):(s(),n("div",ae,[e[9]||(e[9]=o("div",{class:"text-h5"},"Producto no encontrado",-1)),l(v,{to:"/",label:"Volver al inicio",color:"primary",class:"q-mt-md"})])),l(F,{modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=a=>p.value=a)},{default:i(()=>[l(w,{style:{"max-width":"500px","max-height":"500px"},class:""},{default:i(()=>[b.value?(s(),m(k,{key:0,src:b.value,fit:"contain"},null,8,["src"])):c("",!0),l(v,{round:"",dense:"",icon:"close",color:"white","text-color":"black",class:"absolute-top-right q-ma-sm",onClick:e[2]||(e[2]=a=>p.value=!1)})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},_e=O(le,[["__scopeId","data-v-ea01a75a"]]);export{_e as default};
