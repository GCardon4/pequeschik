import{Q as N}from"./QSpinnerGears-N1ybW25U.js";import{a3 as S,r as d,p as B,f as m,o as s,w as n,i,g as l,n as o,a0 as c,Q as p,h as f,t as u,F as w,k as Q}from"./index-DRg9g1vX.js";import{Q as D}from"./QTooltip-Bl8pvChp.js";import{Q as x}from"./QImg-BF2cFclf.js";import{Q as C,a as R}from"./QDialog-Cwu0fu7V.js";import{Q as F}from"./QSeparator-DFVfwAhE.js";import{Q as U}from"./QCardSection-0caMwbFv.js";import{Q as q}from"./QCard-CnWs91_S.js";import{Q as z}from"./QPage-Bly9c7C9.js";import{u as G}from"./productStore-CYCjIWKg.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./selection-n5EXbK2P.js";import"./use-timeout-8iYzss33.js";import"./use-dark-BA2Gvzb3.js";import"./focus-manager-zjdVGI5d.js";const T={key:0,class:"flex flex-center"},H={key:1,class:"product-view-container"},j={class:"row"},A={class:"text-h4 q-mb-sm col"},E={class:"text-subtitle1 text-grey-7"},L={key:0,class:"q-mt-md desc-product"},M={key:1,class:"row"},W={class:"col text-h6"},J={key:0,class:"col"},K={class:"text-subtitle2 col"},X={class:"text-h5 text-bold q-my-md text-primary"},Y={class:"row items-center justify-between"},Z={class:"text-subtitle1"},ee={class:"text-bold"},te={class:"row q-gutter-md"},oe={key:0,class:"q-mt-xl"},se={class:"row q-gutter-md"},ae={key:2,class:"text-center"},le={__name:"ProductViewPage",setup(re){const P=S(),_=G(),t=d(null),y=d([]),g=d(!0),v=d(!1),b=d("");B(async()=>{const r=P.params.id;g.value=!0,await _.fetchProductById(r),t.value=_.selectedProduct,t.value&&(y.value=await _.fetchGallery(r)),g.value=!1});function k(r){b.value=r,v.value=!0}function V(){const r="573137894436",e=t.value.name,a=t.value.reference,h=`Hola, estoy interesado en el producto: *${e}* (Ref: *${a}*). ¿Podrías darme más información?`,I=`https://wa.me/${r}?text=${encodeURIComponent(h)}`;window.open(I,"_blank")}const $=r=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(r);return(r,e)=>(s(),m(z,{class:"q-pa-md"},{default:n(()=>[g.value?(s(),i("div",T,[l(N,{size:"50px",color:"primary"})])):t.value?(s(),i("div",H,[l(p,{flat:"",icon:"arrow_back",label:"Volver al catálogo",onClick:e[0]||(e[0]=a=>r.$router.go(-1)),class:"q-mb-md"}),o("div",{class:"cursor-pointer",onClick:e[1]||(e[1]=a=>k(t.value.avatar_url))},[l(x,{src:t.value.avatar_url,class:"product-avatar-large rounded-borders"},{default:n(()=>[l(D,null,{default:n(()=>[...e[4]||(e[4]=[f("Haz clic para ver la imagen completa",-1)])]),_:1})]),_:1},8,["src"])]),l(q,{flat:"",bordered:"",class:"q-mt-lg"},{default:n(()=>[l(U,null,{default:n(()=>[o("div",j,[o("div",A,u(t.value.name),1),o("div",E,"Ref: "+u(t.value.reference),1),t.value.category?(s(),m(C,{key:0,label:t.value.category.name,color:"primary","text-color":"white"},null,8,["label"])):c("",!0)]),t.value.description?(s(),i("div",L,[o("p",null,u(t.value.description),1)])):c("",!0),t.value.subcategory?(s(),i("div",M,[o("div",W,u(t.value.subcategory),1),t.value.sizes?(s(),i("div",J,[o("div",K,[e[5]||(e[5]=f("Tallas disponibles: ",-1)),(s(!0),i(w,null,Q(t.value.sizes.split(","),a=>(s(),m(C,{key:a,label:a.trim(),outline:"",color:"secondary"},null,8,["label"]))),128))])])):c("",!0)])):c("",!0),o("div",X,u($(t.value.price)),1),l(F,{class:"q-my-lg"}),o("div",Y,[o("div",Z,[e[6]||(e[6]=f(" Stock: ",-1)),o("span",ee,u(t.value.stock),1),e[7]||(e[7]=f(" unidades ",-1))]),o("div",te,[l(p,{round:"",color:"pink",icon:"favorite_border"}),l(p,{unelevated:"",color:"positive",icon:"shopping_cart",label:"Quiero este Producto",onClick:V})])])]),_:1})]),_:1}),y.value.length>0?(s(),i("div",oe,[e[8]||(e[8]=o("div",{class:"text-h6 q-mb-md"},"Galería del Producto",-1)),o("div",se,[(s(!0),i(w,null,Q(y.value,a=>(s(),m(x,{key:a.id,src:a.image_url,class:"gallery-thumbnail cursor-pointer rounded-borders",onClick:h=>k(a.image_url)},null,8,["src","onClick"]))),128))])])):c("",!0)])):(s(),i("div",ae,[e[9]||(e[9]=o("div",{class:"text-h5"},"Producto no encontrado",-1)),l(p,{to:"/",label:"Volver al inicio",color:"primary",class:"q-mt-md"})])),l(R,{modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=a=>v.value=a)},{default:n(()=>[l(q,{style:{"max-width":"500px","max-height":"500px"},class:""},{default:n(()=>[b.value?(s(),m(x,{key:0,src:b.value,fit:"contain"},null,8,["src"])):c("",!0),l(p,{round:"",dense:"",icon:"close",color:"white","text-color":"black",class:"absolute-top-right q-ma-sm",onClick:e[2]||(e[2]=a=>v.value=!1)})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},he=O(le,[["__scopeId","data-v-ea01a75a"]]);export{he as default};
